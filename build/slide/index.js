(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,r=window.wp.element,a=window.wp.data,i=e=>null==e||""===e,l=window.ReactJSXRuntime,o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wpspices/marquee-carousel-slide","version":"0.1.0","title":"Slide","category":"widgets","parent":["wpspices/marquee-carousel"],"icon":"analytics","description":"Marquee slide.","attributes":{"imgName":{"type":"string","default":"wordpress"}},"example":{},"usesContext":["wpspices-marquee-carousel/imgHeight","wpspices-marquee-carousel/slideInnerGap"],"supports":{"color":{"background":true,"text":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}},"spacing":{"margin":true,"padding":true,"blockGap":{"__experimentalDefault":"0.5rem"},"__experimentalDefaultControls":{"padding":true,"blockGap":true}},"layout":{"allowSwitching":false,"allowInheriting":false,"default":{"type":"flex","flexWrap":"nowrap"}},"html":false},"textdomain":"marquee-carousel","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,e.registerBlockType)(o,{edit:function({attributes:e,setAttributes:o,clientId:c,context:u}){const{imgName:n,style:p={}}=e,{updateBlockAttributes:m}=(0,a.useDispatch)(s.store),d=marqueeBlockData.assets_url,{marqueeCarouselClientID:g,imageClientIds:w,imageHeight:h}=(0,a.useSelect)((e=>{let t=e(s.store).getBlockParentsByBlockName(c,"wpspices/marquee-carousel",!0);t=i(t)?t:t[0];let r=[],a="";const l=e(s.store).getBlock(c);return!i(l)&&!i(l.innerBlocks)&&0<l.innerBlocks.length&&l.innerBlocks.forEach((e=>{"core/image"===e.name&&(r.push(e.clientId),a=e.attributes?.height)})),{marqueeCarouselClientID:t,imageClientIds:r,imageHeight:a}}),[c]),f=[["core/image",{height:i(u["wpspices-marquee-carousel/imgHeight"])?"35px":u["wpspices-marquee-carousel/imgHeight"]+"px",sizeSlug:"full",url:d+""+n+".svg",className:"marquee-carousel-image"}],["core/paragraph",{content:(0,t.__)((k=n,k&&k[0].toUpperCase()+k.slice(1)),"marquee-carousel"),placeholder:(0,t.__)("Label","marquee-carousel"),className:"marquee-carousel-label"}]];var k;(0,r.useEffect)((()=>{let e=!0;return e&&o({style:{...p,spacing:{blockGap:u["wpspices-marquee-carousel/slideInnerGap"]}}}),()=>{e=!1}}),[u["wpspices-marquee-carousel/slideInnerGap"]]),(0,r.useEffect)((()=>{let e=!0;if(e&&h!=u["wpspices-marquee-carousel/imgHeight"]&&!i(w)&&0<w.length){let e=u["wpspices-marquee-carousel/imgHeight"]+"px";w.forEach((t=>{m(t,{height:e})}))}return()=>{e=!1}}),[u["wpspices-marquee-carousel/imgHeight"]]);const q=(0,s.useBlockProps)();return(0,l.jsx)("div",{...q,children:(0,l.jsx)(s.InnerBlocks,{template:f,allowedBlocks:["core/image","core/heading"]})})},save:function(e){const t=s.useBlockProps.save();return(0,l.jsx)("div",{...t,children:(0,l.jsx)(s.InnerBlocks.Content,{})})}})})();