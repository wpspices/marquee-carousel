(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,r=window.wp.element,a=window.wp.data,i=window.wp.coreData,l=e=>null==e||""===e,o=window.ReactJSXRuntime,c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wpspices/marquee-carousel-slide","version":"0.1.0","title":"Slide","category":"widgets","parent":["wpspices/marquee-carousel"],"icon":"analytics","description":"Marquee slide.","attributes":{"imgName":{"type":"string","default":"wordpress"}},"example":{},"usesContext":["wpspices-marquee-carousel/imgHeight","wpspices-marquee-carousel/slideInnerGap"],"supports":{"color":{"background":true,"text":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}},"spacing":{"margin":true,"padding":true,"blockGap":{"__experimentalDefault":"0.5rem"},"__experimentalDefaultControls":{"padding":true,"blockGap":true}},"layout":{"allowSwitching":false,"allowInheriting":false,"default":{"type":"flex","flexWrap":"nowrap"}},"html":false},"textdomain":"marquee-carousel","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,e.registerBlockType)(c,{edit:function({attributes:e,setAttributes:c,clientId:n,context:u}){const{imgName:p,style:m={}}=e,{updateBlockAttributes:g}=(0,a.useDispatch)(s.store),{siteUrl:d="",siteData:w}=(0,a.useSelect)((e=>{const{getEntityRecord:t}=e(i.store),s=t("root","__unstableBase");return{siteUrl:s?.home,siteData:s}}),[]),{marqueeCarouselClientID:h,imageClientIds:f,imageHeight:k}=(0,a.useSelect)((e=>{let t=e(s.store).getBlockParentsByBlockName(n,"wpspices/marquee-carousel",!0);t=l(t)?t:t[0];let r=[],a="";const i=e(s.store).getBlock(n);return!l(i)&&!l(i.innerBlocks)&&0<i.innerBlocks.length&&i.innerBlocks.forEach((e=>{"core/image"===e.name&&(r.push(e.clientId),a=e.attributes?.height)})),{marqueeCarouselClientID:t,imageClientIds:r,imageHeight:a}}),[n]),q=[["core/image",{height:l(u["wpspices-marquee-carousel/imgHeight"])?"35px":u["wpspices-marquee-carousel/imgHeight"]+"px",sizeSlug:"full",url:d+"/wp-content/plugins/marquee-carousel/assets/img/"+p+".svg",className:"marquee-carousel-image"}],["core/paragraph",{content:(0,t.__)((x=p,x&&x[0].toUpperCase()+x.slice(1)),"marquee-carousel"),placeholder:(0,t.__)("Label","marquee-carousel"),className:"marquee-carousel-label"}]];var x;(0,r.useEffect)((()=>{let e=!0;return e&&c({style:{...m,spacing:{blockGap:u["wpspices-marquee-carousel/slideInnerGap"]}}}),()=>{e=!1}}),[u["wpspices-marquee-carousel/slideInnerGap"]]),(0,r.useEffect)((()=>{let e=!0;if(e&&k!=u["wpspices-marquee-carousel/imgHeight"]&&!l(f)&&0<f.length){let e=u["wpspices-marquee-carousel/imgHeight"]+"px";f.forEach((t=>{g(t,{height:e})}))}return()=>{e=!1}}),[u["wpspices-marquee-carousel/imgHeight"]]);const B=(0,s.useBlockProps)();return(0,o.jsx)("div",{...B,children:(0,o.jsx)(s.InnerBlocks,{template:q,allowedBlocks:["core/image","core/heading"]})})},save:function(e){const t=s.useBlockProps.save();return(0,o.jsx)("div",{...t,children:(0,o.jsx)(s.InnerBlocks.Content,{})})}})})();